// ==================== 投篮机器人转速预测代码 (SVR模型) ====================
// 坐标系: 以篮筐为原点
// 篮筐位置: (3.00f, 2.00f)
// 模型类型: RBF核支持向量回归
// 支持向量数: 167
// 测试集性能: 
//   MAE = 77.8 RPM
//   R² = 0.9369

#include <math.h>

// -------------------- 1. 归一化参数 --------------------
const float hoop_x = 3.0000f;
const float hoop_y = 2.0000f;

// 特征归一化范围 (训练时使用MinMaxScaler)
const float feat_min[10] = {-2.593537f, -1.572913f, 0.208689f, -3.116532f, -0.999259f, -0.999966f, -0.997193f, -0.997037f, 0.043551f, 0.360579f};
const float feat_max[10] = {2.470035f, 0.520446f, 2.773315f, 3.133389f, 0.875009f, 0.999439f, 0.995857f, 0.999865f, 7.691279f, 4.791799f};

const float rpm_min = -30.6f;
const float rpm_max = 1858.0f;

// -------------------- 2. SVR模型参数 --------------------
const float gamma = 1.000000f;  // RBF核参数
const float intercept = 0.527450f;

// 支持向量 (共167个)
const float support_vectors[167][10] = {
    {0.810617f, 0.160114f, 0.414569f, -0.059741f, -0.122921f, 0.984710f, -0.349564f, 0.937154f, 0.058457f, -0.939596f},
    {0.167954f, 0.048690f, -0.696145f, -0.296432f, -0.781328f, 0.607925f, -0.967781f, -0.263756f, -0.917768f, -0.408403f},
    {-0.279105f, 0.287816f, -0.538369f, -0.916870f, -0.233559f, -0.959729f, 0.541909f, 0.841966f, -0.843749f, -0.599021f},
    {-0.494980f, 0.247224f, -0.116306f, -0.943804f, -0.146406f, -0.979961f, 0.392687f, 0.920549f, -0.540506f, -0.826389f},
    {-0.317482f, -0.452367f, -0.131524f, -0.733710f, -0.740440f, -0.654484f, 0.993826f, -0.144760f, -0.554102f, -0.821426f},
    {-0.596927f, -0.057411f, 0.146421f, -0.893848f, -0.306397f, -0.937041f, 0.657484f, 0.755791f, -0.274377f, -0.893890f},
    {-0.198905f, -0.088923f, -0.508818f, -0.742120f, -0.721808f, -0.674129f, 1.000000f, -0.092488f, -0.827506f, -0.624496f},
    {-0.033168f, -0.610619f, -0.246875f, -0.545168f, -0.992544f, -0.123855f, 0.247775f, -0.972128f, -0.650684f, -0.778438f},
    {-0.837733f, 0.391384f, 0.541849f, -0.990944f, 0.009380f, -0.998610f, 0.107559f, 0.994437f, 0.238085f, -0.956258f},
    {-0.442331f, 0.325565f, -0.229972f, -0.958198f, -0.099172f, -0.987935f, 0.308113f, 0.951971f, -0.637247f, -0.785401f},
    {-0.129293f, -0.406167f, -0.361184f, -0.629593f, -0.921379f, -0.378399f, 0.703871f, -0.715923f, -0.735104f, -0.723632f},
    {-0.256790f, 0.295515f, -0.582383f, -0.913369f, -0.244746f, -0.956596f, 0.560269f, 0.829944f, -0.866552f, -0.556268f},
    {-0.209018f, -0.427418f, -0.274577f, -0.679928f, -0.845910f, -0.518755f, 0.890873f, -0.463691f, -0.672174f, -0.766451f},
    {-1.000000f, -0.106012f, 0.919948f, -0.930926f, -0.188303f, -0.971145f, 0.465685f, 0.886108f, 0.853857f, -0.993745f},
    {-0.679225f, -0.457111f, 0.432174f, -0.843692f, -0.457904f, -0.871018f, 0.859422f, 0.516747f, 0.082473f, -0.942059f},
    {-0.725064f, 0.269528f, 0.329168f, -0.967073f, -0.069874f, -0.991856f, 0.254680f, 0.967517f, -0.054256f, -0.926822f},
    {0.764265f, 0.283910f, 0.308939f, -0.041637f, -0.063234f, 0.993164f, -0.241143f, 0.970621f, -0.080036f, -0.923580f},
    {-0.212858f, -0.416381f, -0.278274f, -0.683964f, -0.838854f, -0.529500f, 0.902273f, -0.441133f, -0.674992f, -0.764794f},
    {-0.778229f, -0.175276f, 0.515805f, -0.900497f, -0.285543f, -0.944097f, 0.625400f, 0.782371f, 0.200195f, -0.953055f},
    {-0.897444f, -0.638183f, 0.881741f, -0.856674f, -0.419778f, -0.890230f, 0.814521f, 0.584506f, 0.786048f, -0.990586f},
    {0.223786f, 0.223735f, -0.707924f, -0.170532f, -0.468061f, 0.866107f, -0.869255f, 0.497834f, -0.922435f, -0.388867f},
    {0.819096f, 0.423951f, 0.407633f, -0.015810f, 0.022579f, 0.999721f, -0.081477f, 0.996773f, 0.049070f, -0.938611f},
    {0.178074f, -0.406167f, -0.361184f, -0.381123f, -0.921379f, 0.378926f, -0.702530f, -0.715923f, -0.735104f, -0.723632f},
    {-0.108080f, -0.305909f, -0.452740f, -0.626084f, -0.925750f, -0.368222f, 0.688001f, -0.731145f, -0.794615f, -0.667008f},
    {0.274466f, 0.855992f, -0.590981f, 0.166434f, 0.604384f, 0.864070f, 0.874620f, 0.490783f, -0.870811f, -0.547149f},
    {0.170389f, -0.360720f, -0.401262f, -0.381123f, -0.921379f, 0.378926f, -0.702530f, -0.715923f, -0.762041f, -0.700521f},
    {0.137783f, -0.912390f, 0.013863f, -0.444095f, -0.981295f, 0.190598f, -0.374235f, -0.930444f, -0.416072f, -0.863600f},
    {-0.050314f, -0.650400f, -0.209996f, -0.555098f, -0.987926f, -0.154592f, 0.307624f, -0.954961f, -0.621050f, -0.793313f},
    {-0.862716f, -0.246649f, 0.692494f, -0.900497f, -0.285543f, -0.944097f, 0.625400f, 0.782371f, 0.468690f, -0.973025f},
    {-0.810845f, -0.172090f, 0.575903f, -0.904857f, -0.271785f, -0.948503f, 0.603771f, 0.799068f, 0.288506f, -0.960303f},
    {0.234047f, -0.099692f, -0.519962f, -0.281451f, -0.750064f, 0.644443f, -0.988113f, -0.172239f, -0.833720f, -0.615164f},
    {0.044042f, -0.537472f, -0.312772f, -0.490746f, -0.999678f, 0.045926f, -0.090849f, -0.998794f, -0.700723f, -0.748642f},
    {-0.032272f, -0.641257f, -0.222267f, -0.543515f, -0.993214f, -0.118726f, 0.237714f, -0.974624f, -0.631040f, -0.788493f},
    {-0.397376f, 0.322925f, -0.317174f, -0.952183f, -0.118956f, -0.984845f, 0.343796f, 0.939765f, -0.703932f, -0.746487f},
    {-0.295078f, 0.276503f, -0.505507f, -0.916870f, -0.233559f, -0.959729f, 0.541909f, 0.841966f, -0.825639f, -0.627207f},
    {0.995109f, 0.190484f, 0.770709f, -0.045008f, -0.074386f, 0.991830f, -0.261610f, 0.965320f, 0.596119f, -0.980700f},
    {-0.209043f, -0.482709f, -0.235676f, -0.671858f, -0.859580f, -0.497030f, 0.866393f, -0.507893f, -0.641809f, -0.783080f},
    {-0.385620f, 0.275988f, -0.332331f, -0.936084f, -0.171568f, -0.974866f, 0.436784f, 0.900605f, -0.714856f, -0.738889f},
    {-0.463453f, 0.662921f, -0.190722f, 0.959457f, 0.209804f, -0.990946f, -0.266794f, 0.963904f, -0.605097f, -0.800639f},
    {-0.627107f, 0.251097f, 0.139865f, -0.957343f, -0.101987f, -0.987517f, 0.313211f, 0.950319f, -0.281740f, -0.892537f},
    {0.084978f, -0.669218f, -0.198671f, -0.465549f, -0.992544f, 0.124382f, -0.246434f, -0.972128f, -0.611716f, -0.797653f},
    {-0.949167f, -0.065978f, 0.814703f, -0.932186f, -0.184220f, -0.972078f, 0.458667f, 0.889736f, 0.670105f, -0.984750f},
    {-0.466895f, 0.316239f, -0.180879f, -0.958198f, -0.099172f, -0.987935f, 0.308113f, 0.951971f, -0.596827f, -0.804269f},
    {-0.119173f, 0.048690f, -0.696145f, -0.714284f, -0.781328f, -0.607398f, 0.969122f, -0.263756f, -0.917768f, -0.408403f},
    {-0.311052f, 0.265190f, -0.472645f, -0.916870f, -0.233559f, -0.959729f, 0.541909f, 0.841966f, -0.806599f, -0.652709f},
    {-0.200996f, -0.370424f, -0.322498f, -0.683964f, -0.838854f, -0.529500f, 0.902273f, -0.441133f, -0.707791f, -0.743850f},
    {-0.388095f, 0.332156f, -0.336518f, -0.953825f, -0.113562f, -0.985723f, 0.334102f, 0.943230f, -0.717838f, -0.736741f},
    {0.515676f, 0.316239f, -0.180879f, -0.052519f, -0.099172f, 0.988462f, -0.306772f, 0.951971f, -0.596827f, -0.804269f},
    {-0.809057f, -0.199131f, 0.579688f, -0.900807f, -0.284568f, -0.944416f, 0.623879f, 0.783576f, 0.294173f, -0.960742f},
    {-0.788455f, -0.132767f, 0.523884f, -0.907976f, -0.261905f, -0.951546f, 0.588025f, 0.810648f, 0.211887f, -0.954059f},
    {-0.226110f, 0.900838f, -0.570976f, 0.816621f, 0.652200f, -0.835759f, -0.920333f, 0.396236f, -0.860802f, -0.567959f},
    {-0.315665f, 0.401110f, -0.486235f, -0.968671f, -0.064587f, -0.992481f, 0.244971f, 0.970001f, -0.814586f, -0.642463f},
    {-0.844596f, 0.989896f, 0.598445f, 0.929751f, 0.307205f, -0.974207f, -0.440738f, 0.898036f, 0.322432f, -0.962894f},
    {0.112525f, 0.814316f, -0.854606f, 0.307932f, 0.946939f, 0.565150f, 0.936027f, -0.364163f, -0.970559f, -0.020483f},
    {-0.752478f, 0.272967f, 0.382523f, -0.969080f, -0.063234f, -0.992637f, 0.242484f, 0.970621f, 0.015427f, -0.934968f},
    {1.000000f, -0.077022f, 0.820773f, -0.079790f, -0.188303f, 0.971673f, -0.464344f, 0.886108f, 0.680444f, -0.985295f},
    {-0.316485f, -0.051783f, -0.351667f, -0.818555f, -0.529225f, -0.829770f, 0.930075f, 0.376263f, -0.728504f, -0.728784f},
    {0.432994f, -0.390357f, -0.075416f, -0.237843f, -0.649138f, 0.742434f, -0.997687f, 0.099721f, -0.502987f, -0.839038f},
    {0.424707f, -0.030964f, -0.260251f, -0.163902f, -0.448811f, 0.876298f, -0.847787f, 0.533373f, -0.661143f, -0.772742f},
    {-0.034038f, -0.928440f, 0.011149f, -0.536856f, -0.995626f, -0.098037f, 0.196944f, -0.983623f, -0.418815f, -0.862909f},
    {-0.274725f, 0.362573f, -0.561191f, -0.946773f, -0.136694f, -0.981769f, 0.375477f, 0.927651f, -0.855780f, -0.577635f},
    {-0.209890f, -0.406451f, -0.288253f, -0.683716f, -0.839292f, -0.528841f, 0.901589f, -0.442528f, -0.682540f, -0.760253f},
    {0.382343f, 0.395760f, -0.450629f, -0.042045f, -0.064587f, 0.993008f, -0.243630f, 0.970001f, -0.793324f, -0.668477f},
    {0.175132f, 0.025987f, -0.672815f, -0.296432f, -0.781328f, 0.607925f, -0.967781f, -0.263756f, -0.908172f, -0.444324f},
    {-0.623828f, 0.274806f, 0.130547f, -0.961819f, -0.087232f, -0.989627f, 0.286416f, 0.958672f, -0.292141f, -0.890590f},
    {-0.742794f, -0.039721f, 0.415371f, -0.917008f, -0.233118f, -0.959850f, 0.541181f, 0.842431f, 0.059547f, -0.939710f},
    {0.436875f, 0.332156f, -0.336518f, -0.056892f, -0.113562f, 0.986250f, -0.332761f, 0.943230f, -0.717838f, -0.736741f},
    {0.071924f, -0.884015f, -0.026911f, -0.478887f, -0.997142f, 0.082915f, -0.164592f, -0.989292f, -0.456616f, -0.852862f},
    {-0.910681f, 0.103746f, 0.711960f, -0.952141f, -0.119094f, -0.984822f, 0.344044f, 0.939676f, 0.499912f, -0.974995f},
    {0.130452f, -0.073074f, -0.648181f, -0.371236f, -0.908429f, 0.407347f, -0.745398f, -0.671216f, -0.897532f, -0.478717f},
    {0.359775f, -0.038434f, -0.366739f, -0.190960f, -0.525894f, 0.832389f, -0.925864f, 0.383222f, -0.738920f, -0.720568f},
    {0.358241f, -0.469899f, -0.130850f, -0.283625f, -0.754712f, 0.639232f, -0.985697f, -0.185627f, -0.553505f, -0.821648f},
    {0.914934f, 0.122747f, 0.622688f, -0.058576f, -0.119094f, 0.985349f, -0.342703f, 0.939676f, 0.359406f, -0.965607f},
    {-0.051453f, 0.424678f, -1.000000f, -0.879244f, -0.351624f, -0.920127f, 0.723900f, 0.692889f, -1.000000f, 1.000000f},
    {-0.582359f, -0.023254f, 0.109835f, -0.897891f, -0.293734f, -0.941380f, 0.638105f, 0.772113f, -0.314994f, -0.886161f},
    {-0.646228f, -0.078625f, 0.243791f, -0.897891f, -0.293734f, -0.941380f, 0.638105f, 0.772113f, -0.160669f, -0.912502f},
    {-0.036198f, -0.669218f, -0.198671f, -0.545168f, -0.992544f, -0.123855f, 0.247775f, -0.972128f, -0.611716f, -0.797653f},
    {0.167100f, 0.077454f, -0.715631f, -0.287181f, -0.762236f, 0.630639f, -0.981352f, -0.207461f, -0.925425f, -0.375527f},
    {-0.730580f, 0.427892f, 0.329114f, -0.994907f, 0.022579f, -0.999194f, 0.082818f, 0.996773f, -0.054325f, -0.926814f},
    {0.387573f, 0.543477f, -0.444910f, 0.012122f, 0.115691f, 0.999488f, 0.093480f, 0.995842f, -0.789807f, -0.672415f},
    {-0.302208f, 0.329593f, -0.502601f, -0.938965f, -0.162192f, -0.976834f, 0.420438f, 0.908297f, -0.823993f, -0.629565f},
    {0.673324f, -0.852117f, 0.529780f, -0.230566f, -0.630951f, 0.757492f, -0.992047f, 0.144920f, 0.220454f, -0.954786f},
    {0.935465f, -0.597703f, 0.847876f, -0.150901f, -0.410429f, 0.895187f, -0.801498f, 0.600340f, 0.726995f, -0.987687f},
    {-0.749748f, -0.102504f, 0.443568f, -0.907976f, -0.261905f, -0.951546f, 0.588025f, 0.810648f, 0.098158f, -0.943625f},
    {-0.718132f, 0.304374f, 0.312201f, -0.972815f, -0.050863f, -0.993987f, 0.219685f, 0.975990f, -0.075903f, -0.924109f},
    {-0.395942f, -0.057651f, -0.215126f, -0.846815f, -0.448811f, -0.875771f, 0.849128f, 0.533373f, -0.625242f, -0.791313f},
    {0.003756f, -0.589483f, -0.270274f, -0.519971f, -0.999678f, -0.045399f, 0.092190f, -0.998794f, -0.668879f, -0.768362f},
    {0.102928f, 0.387213f, -0.981247f, -0.177568f, -0.488239f, 0.854884f, -0.890404f, 0.459182f, -0.997224f, 0.776538f},
    {-0.197307f, -0.416061f, -0.294370f, -0.674416f, -0.855311f, -0.503951f, 0.874394f, -0.494016f, -0.687124f, -0.757418f},
    {-0.332412f, 0.423523f, -0.455314f, -0.978721f, -0.031271f, -0.995844f, 0.183400f, 0.983390f, -0.796184f, -0.665204f},
    {-0.320634f, 0.541441f, -0.480802f, 0.987806f, 0.115691f, -0.998961f, -0.092139f, 0.995842f, -0.811412f, -0.646609f},
    {-0.448445f, 0.280743f, -0.211756f, -0.946663f, -0.137055f, -0.981703f, 0.376119f, 0.927393f, -0.622491f, -0.792629f},
    {-0.043562f, -0.774443f, -0.111634f, -0.546315f, -0.992063f, -0.127415f, 0.254746f, -0.970333f, -0.536293f, -0.827884f},
    {-0.047138f, -0.841665f, -0.056313f, -0.546315f, -0.992063f, -0.127415f, 0.254746f, -0.970333f, -0.484966f, -0.844627f},
    {-0.408719f, 0.323625f, -0.295206f, -0.953825f, -0.113562f, -0.985723f, 0.334102f, 0.943230f, -0.687749f, -0.757027f},
    {-0.404644f, -0.435013f, -0.021049f, -0.772874f, -0.649138f, -0.741907f, 0.999028f, 0.099721f, -0.450876f, -0.854453f},
    {-0.063910f, -0.853721f, -0.041881f, -0.555334f, -0.987804f, -0.155322f, 0.309034f, -0.954508f, -0.471144f, -0.848723f},
    {-0.932238f, -0.652727f, 0.948407f, -0.859815f, -0.410429f, -0.894660f, 0.802839f, 0.600340f, 0.905180f, -0.996023f},
    {-0.076621f, -0.045653f, -0.672684f, -0.639481f, -0.908429f, -0.406820f, 0.746739f, -0.671216f, -0.908117f, -0.444516f},
    {0.095919f, -0.841665f, -0.056313f, -0.464401f, -0.992063f, 0.127942f, -0.253405f, -0.970333f, -0.484966f, -0.844627f},
    {-0.678491f, 0.294852f, 0.235355f, -0.969080f, -0.063234f, -0.992637f, 0.242484f, 0.970621f, -0.170843f, -0.910992f},
    {0.114268f, 0.867384f, -0.816239f, 0.327913f, 0.982825f, 0.512537f, 0.883474f, -0.477617f, -0.959759f, -0.146961f},
    {0.085740f, -1.000000f, 0.069843f, -0.473860f, -0.995626f, 0.098564f, -0.195604f, -0.983623f, -0.358076f, -0.877187f},
    {-0.539622f, 0.717458f, -0.035460f, 0.952676f, 0.232176f, -0.987873f, -0.307531f, 0.951727f, -0.464937f, -0.850512f},
    {0.004739f, -0.537472f, -0.312772f, -0.519971f, -0.999678f, -0.045399f, 0.092190f, -0.998794f, -0.700723f, -0.748642f},
    {-0.820473f, -0.210962f, 0.604149f, -0.900497f, -0.285543f, -0.944097f, 0.625400f, 0.782371f, 0.331087f, -0.963539f},
    {0.798528f, -0.102504f, 0.443568f, -0.102741f, -0.261905f, 0.952073f, -0.586684f, 0.810648f, 0.098158f, -0.943625f},
    {-0.841131f, -0.542680f, 0.747345f, -0.859815f, -0.410429f, -0.894660f, 0.802839f, 0.600340f, 0.557503f, -0.978473f},
    {-0.756198f, -0.099324f, 0.454902f, -0.909239f, -0.257894f, -0.952753f, 0.581582f, 0.815252f, 0.113870f, -0.945160f},
    {-0.623611f, -0.397822f, 0.312807f, -0.841136f, -0.465312f, -0.867065f, 0.867606f, 0.502988f, -0.075134f, -0.924207f},
    {-0.518216f, 0.223699f, -0.067481f, -0.940978f, -0.155632f, -0.978162f, 0.408940f, 0.913495f, -0.495540f, -0.841384f},
    {-0.045398f, 0.392125f, -0.997997f, -0.822361f, -0.518652f, -0.836351f, 0.920812f, 0.398218f, -0.999718f, 0.973711f},
    {-0.039227f, -0.727817f, -0.150467f, -0.545168f, -0.992544f, -0.123855f, 0.247775f, -0.972128f, -0.570749f, -0.815038f},
    {0.150553f, -0.267401f, -0.486550f, -0.384633f, -0.925750f, 0.368749f, -0.686660f, -0.731145f, -0.814769f, -0.642221f},
    {-0.492377f, 0.236988f, -0.119636f, -0.940978f, -0.155632f, -0.978162f, 0.408940f, 0.913495f, -0.543498f, -0.825315f},
    {-0.784973f, 0.386104f, 0.438088f, -0.988973f, 0.002818f, -0.998262f, 0.119842f, 0.993047f, 0.090601f, -0.942875f},
    {-0.224721f, -0.462338f, -0.234051f, -0.683964f, -0.838854f, -0.529500f, 0.902273f, -0.441133f, -0.640512f, -0.783744f},
    {0.970370f, -0.561172f, 0.897012f, -0.141972f, -0.383609f, 0.907306f, -0.766620f, 0.644059f, 0.813000f, -0.991863f},
    {-0.604920f, -0.077004f, 0.166830f, -0.891568f, -0.313512f, -0.934528f, 0.668229f, 0.746372f, -0.251219f, -0.898017f},
    {-0.480005f, 0.281953f, -0.150694f, -0.950724f, -0.123744f, -0.984043f, 0.352379f, 0.936604f, -0.570946f, -0.814960f},
    {-0.711041f, -0.072240f, 0.363253f, -0.907976f, -0.261905f, -0.951546f, 0.588025f, 0.810648f, -0.010023f, -0.932092f},
    {-0.271589f, 0.284607f, -0.551838f, -0.913369f, -0.244746f, -0.956596f, 0.560269f, 0.829944f, -0.850904f, -0.586592f},
    {-0.472087f, 0.269642f, -0.164207f, -0.946663f, -0.137055f, -0.981703f, 0.376119f, 0.927393f, -0.582629f, -0.810254f},
    {0.712296f, 0.620823f, 0.198864f, 0.019969f, 0.141812f, 0.998052f, 0.142352f, 0.990102f, -0.214148f, -0.904245f},
    {-0.195749f, -0.129814f, -0.487823f, -0.729265f, -0.750064f, -0.643916f, 0.989454f, -0.172239f, -0.815509f, -0.641239f},
    {-0.821627f, 0.141748f, 0.533416f, -0.952141f, -0.119094f, -0.984822f, 0.344044f, 0.939676f, 0.225753f, -0.955232f},
    {-0.810051f, 0.420010f, 0.486152f, -0.994907f, 0.022579f, -0.999194f, 0.082818f, 0.996773f, 0.157767f, -0.949284f},
    {-0.193513f, -0.411590f, -0.301285f, -0.672696f, -0.858188f, -0.499301f, 0.869038f, -0.503361f, -0.692268f, -0.754165f},
    {-0.338853f, 0.420306f, -0.442408f, -0.978075f, -0.033413f, -0.995657f, 0.187377f, 0.982647f, -0.788260f, -0.674118f},
    {0.541158f, 0.236988f, -0.119636f, -0.069739f, -0.155632f, 0.978689f, -0.407600f, 0.913495f, -0.543498f, -0.825315f},
    {-0.216451f, -0.507838f, -0.210605f, -0.672696f, -0.858188f, -0.499301f, 0.869038f, -0.503361f, -0.621549f, -0.793077f},
    {-0.921589f, -0.561172f, 0.897012f, -0.868744f, -0.383609f, -0.906779f, 0.767961f, 0.644059f, 0.813000f, -0.991863f},
    {-0.333730f, -0.039194f, -0.328694f, -0.829119f, -0.499676f, -0.847743f, 0.903084f, 0.436639f, -0.712253f, -0.740737f},
    {-0.902877f, -0.539176f, 0.855941f, -0.868856f, -0.383272f, -0.906926f, 0.767510f, 0.644593f, 0.740969f, -0.988386f},
    {0.177694f, 0.103056f, -0.717703f, -0.266018f, -0.715985f, 0.680587f, -1.000000f, -0.076401f, -0.926219f, -0.371863f},
    {-0.204982f, -0.459714f, -0.255945f, -0.672696f, -0.858188f, -0.499301f, 0.869038f, -0.503361f, -0.657793f, -0.774594f},
    {-0.453167f, 0.292717f, -0.204400f, -0.950460f, -0.124611f, -0.983896f, 0.353931f, 0.936023f, -0.616451f, -0.795471f},
    {-0.899239f, -0.556168f, 0.855331f, -0.866381f, -0.390742f, -0.903640f, 0.777428f, 0.632680f, 0.739911f, -0.988333f},
    {-0.663515f, 0.620823f, 0.198864f, 0.979959f, 0.141812f, -0.997525f, -0.141011f, 0.990102f, -0.214148f, -0.904245f},
    {0.172396f, -0.411488f, -0.361317f, -0.385923f, -0.927327f, 0.364997f, -0.680741f, -0.736653f, -0.735195f, -0.723559f},
    {-0.294225f, -0.011374f, -0.406539f, -0.819757f, -0.525894f, -0.831862f, 0.927205f, 0.383222f, -0.765486f, -0.697295f},
    {-0.430933f, 0.265888f, -0.243202f, -0.940227f, -0.158079f, -0.977671f, 0.413236f, 0.911574f, -0.647785f, -0.779973f},
    {-0.424803f, 0.291844f, -0.259306f, -0.946663f, -0.137055f, -0.981703f, 0.376119f, 0.927393f, -0.660409f, -0.773150f},
    {-0.622564f, -0.696404f, 0.446502f, -0.798786f, -0.582754f, -0.793723f, 0.969624f, 0.259067f, 0.102215f, -0.944024f},
    {0.880789f, 0.976322f, 0.571740f, 0.069221f, 0.304097f, 0.975405f, 0.436686f, 0.900652f, 0.282290f, -0.959817f},
    {-0.994865f, 0.174870f, 0.867382f, -0.965709f, -0.074386f, -0.991303f, 0.262950f, 0.965320f, 0.760888f, -0.989369f},
    {-0.659682f, 0.238514f, 0.204995f, -0.957343f, -0.101987f, -0.987517f, 0.313211f, 0.950319f, -0.206951f, -0.905404f},
    {-0.000824f, -0.521921f, -0.324871f, -0.524383f, -0.998906f, -0.059171f, 0.119707f, -0.995896f, -0.709504f, -0.742663f},
    {-0.041253f, -0.845628f, -0.054524f, -0.542868f, -0.993468f, -0.116720f, 0.233772f, -0.975572f, -0.483262f, -0.845141f},
    {0.320369f, 0.284607f, -0.551838f, -0.097348f, -0.244746f, 0.957123f, -0.558929f, 0.829944f, -0.850904f, -0.586592f},
    {-0.656990f, -0.919861f, 0.614406f, -0.780151f, -0.630951f, -0.756965f, 0.993388f, 0.144920f, 0.346718f, -0.964689f},
    {0.675888f, 0.251097f, 0.139865f, -0.053373f, -0.101987f, 0.988044f, -0.311870f, 0.950319f, -0.281740f, -0.892537f},
    {0.618087f, 0.728758f, 0.023870f, 0.047252f, 0.232176f, 0.988400f, 0.308871f, 0.951727f, -0.405902f, -0.866123f},
    {-0.165036f, 0.237687f, -0.730665f, -0.840185f, -0.468061f, -0.865580f, 0.870596f, 0.497834f, -0.931108f, -0.348137f},
    {0.224407f, -0.081472f, -0.543577f, -0.284027f, -0.755569f, 0.638262f, -0.985229f, -0.188105f, -0.846535f, -0.594279f},
    {0.125402f, -0.045653f, -0.672684f, -0.371236f, -0.908429f, 0.407347f, -0.745398f, -0.671216f, -0.908117f, -0.444516f},
    {0.663074f, -0.050940f, 0.176813f, -0.112825f, -0.293734f, 0.941907f, -0.636764f, 0.772113f, -0.239760f, -0.899990f},
    {-0.326153f, -0.518532f, -0.079255f, -0.727092f, -0.754712f, -0.638705f, 0.987038f, -0.185627f, -0.506572f, -0.837891f},
    {0.497225f, 0.280743f, -0.211756f, -0.064054f, -0.137055f, 0.982230f, -0.374778f, 0.927393f, -0.622491f, -0.792629f},
    {-0.455085f, 0.739101f, -0.196619f, 0.938297f, 0.279359f, -0.979891f, -0.391995f, 0.920274f, -0.610012f, -0.798428f},
    {0.166524f, -0.383607f, -0.386731f, -0.386953f, -0.928573f, 0.361998f, -0.675988f, -0.741013f, -0.752434f, -0.709176f},
    {0.253762f, -0.459714f, -0.255945f, -0.338020f, -0.858188f, 0.499828f, -0.867697f, -0.503361f, -0.657793f, -0.774594f},
    {-0.658149f, 0.274655f, 0.197657f, -0.964084f, -0.079755f, -0.990620f, 0.272773f, 0.962612f, -0.215560f, -0.904016f},
    {-0.722525f, 0.177246f, 0.335703f, -0.950975f, -0.122921f, -0.984182f, 0.350905f, 0.937154f, -0.045853f, -0.927851f},
    {0.106354f, -0.040361f, -0.690808f, -0.393355f, -0.936094f, 0.343269f, -0.645804f, -0.767437f, -0.915614f, -0.416934f},
    {0.124031f, -0.054283f, -0.667322f, -0.374684f, -0.913052f, 0.397478f, -0.730764f, -0.687107f, -0.905845f, -0.452290f},
    {0.212971f, -0.042070f, -0.582740f, -0.282304f, -0.751893f, 0.642401f, -0.987186f, -0.177498f, -0.866729f, -0.555895f}
};

// 对偶系数
const float dual_coefs[167] = {
    0.335669f, 1.000000f, 1.000000f, -1.000000f, -1.000000f, 1.000000f, -1.000000f, 1.000000f, -0.864926f, -1.000000f, 1.000000f, -1.000000f, 1.000000f, 0.486217f, -1.000000f, -1.000000f, -1.000000f, 1.000000f, 1.000000f, 1.000000f, 0.336221f, 1.000000f, 0.671979f, -0.254711f, 0.033664f, 1.000000f, -1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, -1.000000f, 1.000000f, -0.386050f, 1.000000f, -0.319009f, -1.000000f, 1.000000f, 0.333006f, 1.000000f, 1.000000f, -0.610152f, -1.000000f, 0.010428f, 0.791070f, 0.515901f, -1.000000f, -1.000000f, 1.000000f, -1.000000f, 0.010310f, 1.000000f, 0.185946f, -0.088170f, -1.000000f, 0.754268f, 0.332136f, 0.747198f, -0.444086f, 1.000000f, -1.000000f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, -1.000000f, 0.694718f, 1.000000f, -1.000000f, -1.000000f, 0.470360f, -0.868011f, -0.176706f, -0.038134f, 1.000000f, -1.000000f, 1.000000f, 0.419996f, 0.073003f, -0.630354f, -1.000000f, -0.153255f, 1.000000f, -1.000000f, -1.000000f, -0.720123f, -1.000000f, -0.090620f, -1.000000f, 1.000000f, 0.003105f, 1.000000f, -1.000000f, -1.000000f, -1.000000f, 0.309533f, -1.000000f, 1.000000f, -0.504755f, -1.000000f, -1.000000f, -0.067899f, 0.283290f, 0.246967f, -1.000000f, 1.000000f, -0.500216f, 0.228892f, -1.000000f, 0.396870f, -1.000000f, -0.037451f, 1.000000f, -1.000000f, -0.004224f, 1.000000f, 1.000000f, -1.000000f, 0.416470f, -1.000000f, -0.727195f, -1.000000f, 1.000000f, -1.000000f, 0.774640f, 0.850605f, 1.000000f, -1.000000f, 1.000000f, -1.000000f, -1.000000f, -1.000000f, -1.000000f, -1.000000f, -1.000000f, -1.000000f, -1.000000f, -1.000000f, -0.055526f, 1.000000f, 1.000000f, 1.000000f, 1.000000f, 0.385460f, 0.142241f, 0.437107f, 1.000000f, -0.883132f, -0.667152f, -0.894924f, -0.262924f, 1.000000f, 0.757935f, 0.164564f, -1.000000f, -1.000000f, 0.330115f, 0.389979f, 1.000000f, -0.403796f, 1.000000f, -1.000000f, 1.000000f, 1.000000f, 1.000000f, -0.756356f, -0.910007f
};

// -------------------- 3. 辅助函数 --------------------
// RBF核函数
float rbf_kernel(const float* x1, const float* x2, int dim) {
    float sum = 0.0f;
    for (int i = 0; i < dim; i++) {
        float diff = x1[i] - x2[i];
        sum += diff * diff;
    }
    return expf(-gamma * sum);
}

// 特征归一化
void normalize_features(const float* input, float* output, int dim) {
    for (int i = 0; i < dim; i++) {
        output[i] = 2.0f * (input[i] - feat_min[i]) / (feat_max[i] - feat_min[i]) - 1.0f;
    }
}

// 添加极坐标特征
void add_polar_features(const float* point, float* features) {
    // 原始特征 (x, y)
    features[0] = point[0];
    features[1] = point[1];
    
    // 计算极坐标
    float r = sqrtf(point[0]*point[0] + point[1]*point[1]);
    float theta = atan2f(point[1], point[0]);
    
    // 扩展特征
    features[2] = r;
    features[3] = theta;
    features[4] = sinf(theta);
    features[5] = cosf(theta);
    features[6] = sinf(2*theta);
    features[7] = cosf(2*theta);
    features[8] = r*r;
    features[9] = 1.0f / (r + 1e-6f);  // 避免除零
}

// -------------------- 4. 预测函数 --------------------
float predict_rpm(float world_x, float world_y) {
    // 1. 转换到篮筐坐标系
    float point[2] = {
        world_x - hoop_x,
        world_y - hoop_y
    };
    
    // 2. 计算特征 (包括极坐标)
    float raw_features[10];  // 确保与特征工程维度匹配
    add_polar_features(point, raw_features);
    
    // 3. 归一化特征
    float features[10];
    normalize_features(raw_features, features, 10);
    
    // 4. 计算SVR预测
    float sum = intercept;
    for (int i = 0; i < 167; i++) {
        float k = rbf_kernel(features, support_vectors[i], 10);
        sum += dual_coefs[i] * k;
    }
    
    // 5. 反归一化得到实际转速
    float rpm_norm = sum;
    float result = rpm_norm * (rpm_max - rpm_min) + rpm_min;
    
    // 6. 输出保护
    if (result < rpm_min) return rpm_min;
    if (result > rpm_max) return rpm_max;
    return result;
}

// ==================== 使用示例 ====================
/*
#include <stdio.h>
#include <math.h>  // 对于cosf, sinf等函数

#define M_PI 3.14159265358979323846f

int main() {
    // 测试点: 篮筐正前方2米处
    float x = hoop_x - 2.0f, y = hoop_y;
    float rpm = predict_rpm(x, y);
    printf("(%.1f, %.1f) -> %.1f RPM\n", x, y, rpm);
    
    // 测试点: 篮筐右侧45度1.5米处
    x = hoop_x - 1.5f * cosf(M_PI/4);
    y = hoop_y + 1.5f * sinf(M_PI/4);
    rpm = predict_rpm(x, y);
    printf("(%.1f, %.1f) -> %.1f RPM\n", x, y, rpm);
    
    return 0;
}
*/