// ==================== 投篮机器人转速预测代码 (SVR模型) ====================
// 坐标系: 以篮筐为原点
// 篮筐位置: (3.00f, 2.00f)
// 模型类型: RBF核支持向量回归
// 支持向量数: 184
// 测试集性能: 
//   MAE = 24.4 RPM
//   R² = 0.9118

#include <math.h>

// -------------------- 1. 归一化参数 --------------------
const float hoop_x = 3.0000f;
const float hoop_y = 2.0000f;

// 特征归一化范围 (训练时使用MinMaxScaler)
const float feat_min[10] = {-2.602512f, -1.539317f, 0.080933f, -3.131037f, -0.999890f, -1.000000f, -0.999547f, -0.999559f, 0.006550f, 0.330724f};
const float feat_max[10] = {2.478583f, 0.476189f, 3.023668f, 3.141315f, 0.398154f, 0.999898f, 0.999858f, 1.000000f, 9.142568f, 12.355747f};

const float rpm_min = 978.8f;
const float rpm_max = 1756.8f;

// -------------------- 2. SVR模型参数 --------------------
const float gamma = 10.000000f;  // RBF核参数
const float intercept = 0.382917f;

// 支持向量 (共184个)
const float support_vectors[184][10] = {
    {-0.016015f, 0.342084f, -0.910126f, -0.662703f, -0.823370f, -0.481519f, 0.844168f, -0.536568f, -0.991486f, -0.274792f},
    {-0.139714f, 0.007229f, -0.599755f, -0.716718f, -0.689283f, -0.622390f, 0.974444f, -0.225484f, -0.903210f, -0.806709f},
    {-0.318767f, -0.649444f, -0.054584f, -0.704617f, -0.722258f, -0.592245f, 0.954557f, -0.298728f, -0.527103f, -0.942016f},
    {-0.328524f, -0.856091f, 0.071627f, -0.684722f, -0.772848f, -0.540847f, 0.909974f, -0.415230f, -0.399873f, -0.954674f},
    {-0.526674f, -0.295010f, 0.050747f, -0.832920f, -0.298393f, -0.860492f, 0.876870f, 0.480805f, -0.421964f, -0.952779f},
    {-0.145303f, -0.054753f, -0.560161f, -0.704556f, -0.722421f, -0.592091f, 0.954442f, -0.299094f, -0.885382f, -0.826576f},
    {0.149333f, -0.752934f, -0.151897f, -0.425590f, -0.958742f, 0.238941f, -0.464218f, -0.886291f, -0.614893f, -0.929841f},
    {-0.339406f, 0.230030f, -0.394643f, -0.903366f, -0.010920f, -0.951222f, 0.586926f, 0.809613f, -0.794763f, -0.883831f},
    {-0.320124f, -0.727908f, -0.009467f, -0.695484f, -0.746050f, -0.568926f, 0.935899f, -0.352894f, -0.483356f, -0.946892f},
    {-0.339476f, -0.848196f, 0.077462f, -0.690023f, -0.759817f, -0.554758f, 0.923271f, -0.384741f, -0.393625f, -0.955191f},
    {0.380263f, -0.866405f, 0.080331f, -0.320149f, -0.772524f, 0.541302f, -0.910632f, -0.414468f, -0.390542f, -0.955443f},
    {-0.792894f, 0.922800f, 0.381905f, 0.939643f, 0.699980f, -0.982085f, -0.370382f, 0.928970f, -0.022902f, -0.976339f},
    {0.587299f, 0.035646f, -0.026335f, -0.108018f, -0.038055f, 0.944961f, -0.619166f, 0.785480f, -0.499938f, -0.945119f},
    {-0.826713f, -0.430638f, 0.554418f, -0.869453f, -0.152883f, -0.913095f, 0.744674f, 0.667429f, 0.226163f, -0.984771f},
    {-0.129142f, 0.000697f, -0.607289f, -0.704556f, -0.722421f, -0.592091f, 0.954442f, -0.299094f, -0.906435f, -0.802530f},
    {-0.158904f, 0.266906f, -0.691668f, -0.839648f, -0.272261f, -0.871049f, 0.855797f, 0.517369f, -0.938868f, -0.743898f},
    {-0.717869f, 0.527993f, 0.226622f, 1.000000f, 0.430809f, -1.000000f, -0.000710f, 1.000000f, -0.222969f, -0.966808f},
    {-0.314695f, 0.218677f, -0.432493f, -0.892833f, -0.055622f, -0.940513f, 0.639113f, 0.769091f, -0.817775f, -0.873423f},
    {-0.003113f, 0.486950f, -1.000000f, -0.834716f, -0.291449f, -0.863348f, 0.871397f, 0.490651f, -1.000000f, 1.000000f},
    {-0.030118f, -0.770506f, -0.161039f, -0.536134f, -0.992208f, -0.105235f, 0.209297f, -0.978269f, -0.622679f, -0.928561f},
    {-0.655717f, 0.041926f, 0.165488f, -0.915371f, 0.040615f, -0.962160f, 0.524335f, 0.851480f, -0.295464f, -0.962390f},
    {0.054580f, 0.448037f, -0.979657f, -0.258894f, -0.602569f, 0.691900f, -0.999537f, -0.043019f, -0.998743f, 0.445185f},
    {-0.927304f, 0.137972f, 0.609758f, -0.952048f, 0.201168f, -0.987076f, 0.316291f, 0.948630f, 0.312037f, -0.987106f},
    {-0.017282f, 0.371556f, -0.926236f, -0.691561f, -0.755977f, -0.558763f, 0.926936f, -0.375821f, -0.993575f, -0.177181f},
    {1.000000f, -0.927263f, 0.902143f, -0.171950f, -0.297875f, 0.860809f, -0.876777f, 0.481542f, 0.813926f, -0.997250f},
    {0.151099f, -0.865030f, -0.076494f, -0.430602f, -0.963941f, 0.223649f, -0.436138f, -0.900437f, -0.547653f, -0.939486f},
    {-0.816306f, 0.669420f, 0.399841f, 0.978765f, 0.526011f, -0.997765f, -0.133547f, 0.991067f, 0.001678f, -0.977309f},
    {0.989071f, 0.180490f, 0.627537f, -0.046827f, 0.228350f, 0.990076f, -0.279899f, 0.960090f, 0.340240f, -0.987823f},
    {-0.070143f, 0.403861f, -0.871127f, -0.850796f, -0.228272f, -0.887688f, 0.817538f, 0.575905f, -0.985410f, -0.440266f},
    {-0.375002f, 0.772703f, -0.345232f, 0.923912f, 0.768940f, -0.971597f, -0.460126f, 0.887980f, -0.762678f, -0.895747f},
    {-0.029386f, 0.354144f, -0.904291f, -0.714148f, -0.696422f, -0.616063f, 0.970687f, -0.241159f, -0.990669f, -0.304998f},
    {-0.473784f, 0.148627f, -0.156545f, -0.909948f, 0.017263f, -0.957387f, 0.552998f, 0.833152f, -0.618862f, -0.929194f},
    {-0.920389f, 0.181895f, 0.593387f, -0.957422f, 0.224999f, -0.989637f, 0.284130f, 0.958756f, 0.286330f, -0.986432f},
    {-0.078954f, -0.785163f, -0.138430f, -0.564978f, -0.972786f, -0.194641f, 0.381873f, -0.924622f, -0.603280f, -0.931680f},
    {-0.853329f, 0.016165f, 0.500451f, -0.930956f, 0.108329f, -0.974324f, 0.438701f, 0.898599f, 0.145216f, -0.982334f},
    {-0.398581f, 0.960641f, -0.266718f, 0.877052f, 0.968822f, -0.926470f, -0.697738f, 0.716644f, -0.706935f, -0.911610f},
    {-0.252626f, -0.484362f, -0.212952f, -0.695129f, -0.746958f, -0.568008f, 0.935109f, -0.354982f, -0.665391f, -0.920766f},
    {-0.033706f, -0.889724f, -0.079184f, -0.535338f, -0.992579f, -0.102752f, 0.204413f, -0.979302f, -0.550143f, -0.939168f},
    {-0.017099f, 0.473967f, -0.974537f, -0.852592f, -0.221109f, -0.890267f, 0.810996f, 0.585079f, -0.998365f, 0.349737f},
    {-0.879719f, 0.157447f, 0.526520f, -0.952048f, 0.201168f, -0.987076f, 0.316291f, 0.948630f, 0.183973f, -0.983532f},
    {0.605357f, -0.105401f, 0.037772f, -0.131694f, -0.137039f, 0.918063f, -0.728614f, 0.685251f, -0.435483f, -0.951565f},
    {-0.270937f, -0.482321f, -0.195725f, -0.705081f, -0.721026f, -0.593416f, 0.955420f, -0.295952f, -0.651501f, -0.923457f},
    {0.147622f, 0.191756f, -0.741723f, -0.264422f, -0.619568f, 0.679279f, -0.997453f, -0.077631f, -0.954920f, -0.694190f},
    {0.132334f, 0.243352f, -0.785549f, -0.258945f, -0.602727f, 0.691784f, -0.999523f, -0.043338f, -0.967023f, -0.635505f},
    {0.963730f, 0.150426f, 0.587343f, -0.051985f, 0.205469f, 0.987662f, -0.310817f, 0.950540f, 0.276905f, -0.986179f},
    {0.187011f, -0.800243f, -0.103276f, -0.407007f, -0.936479f, 0.295098f, -0.564122f, -0.826315f, -0.572152f, -0.936235f},
    {-0.426339f, 0.184708f, -0.242112f, -0.909948f, 0.017263f, -0.957387f, 0.552998f, 0.833152f, -0.688263f, -0.915950f},
    {0.186003f, -0.027028f, -0.583725f, -0.300448f, -0.722421f, 0.592193f, -0.954753f, -0.299094f, -0.896171f, -0.815154f},
    {0.588247f, -0.210931f, 0.042103f, -0.154403f, -0.229046f, 0.887509f, -0.818551f, 0.574908f, -0.430989f, -0.951974f},
    {0.068256f, 0.363349f, -0.919459f, -0.313444f, -0.755977f, 0.558865f, -0.927247f, -0.375821f, -0.992726f, -0.221072f},
    {0.011119f, -0.895353f, -0.080228f, -0.509998f, -0.999763f, -0.023457f, 0.046860f, -0.999336f, -0.551109f, -0.939044f},
    {-0.924446f, 0.081015f, 0.611603f, -0.944529f, 0.167936f, -0.983023f, 0.360676f, 0.932658f, 0.314949f, -0.987181f},
    {0.368904f, -0.727908f, -0.009467f, -0.309520f, -0.746050f, 0.569029f, -0.936210f, -0.352894f, -0.483356f, -0.946892f},
    {-0.897215f, -0.009400f, 0.578224f, -0.930956f, 0.108329f, -0.974324f, 0.438701f, 0.898599f, 0.262748f, -0.985795f},
    {0.001768f, 0.063607f, -0.734906f, -0.541509f, -0.989467f, -0.121982f, 0.242147f, -0.970654f, -0.952873f, -0.701874f},
    {-0.783498f, 0.696849f, 0.344757f, 0.973632f, 0.548973f, -0.996560f, -0.165387f, 0.986260f, -0.072844f, -0.974251f},
    {-0.096285f, -0.798720f, -0.123090f, -0.574403f, -0.963941f, -0.223547f, 0.435827f, -0.900437f, -0.589841f, -0.933710f},
    {0.278410f, -0.242395f, -0.369141f, -0.281265f, -0.669406f, 0.639576f, -0.983729f, -0.182359f, -0.778492f, -0.890196f},
    {-0.949961f, 0.137183f, 0.648471f, -0.953122f, 0.205924f, -0.987610f, 0.309894f, 0.950740f, 0.373835f, -0.988649f},
    {-0.302898f, -0.665139f, -0.061744f, -0.695484f, -0.746050f, -0.568926f, 0.935899f, -0.352894f, -0.533868f, -0.941202f},
    {0.902110f, 0.016165f, 0.500451f, -0.074049f, 0.108329f, 0.974427f, -0.439012f, 0.898599f, 0.145216f, -0.982334f},
    {-0.785574f, -0.236680f, 0.438251f, -0.889183f, -0.070993f, -0.936562f, 0.656559f, 0.754255f, 0.055344f, -0.979307f},
    {-0.349276f, -0.936099f, 0.137098f, -0.684855f, -0.772524f, -0.541199f, 0.910321f, -0.414468f, -0.327926f, -0.960184f},
    {-0.535555f, -0.181890f, 0.027037f, -0.854886f, -0.211931f, -0.893520f, 0.802491f, 0.596688f, -0.446547f, -0.950539f},
    {-0.073787f, -0.719531f, -0.184259f, -0.564978f, -0.972786f, -0.194641f, 0.381873f, -0.924622f, -0.642100f, -0.925189f},
    {-0.079149f, -0.167941f, -0.546262f, -0.616997f, -0.908918f, -0.351377f, 0.658035f, -0.753409f, -0.878771f, -0.832816f},
    {-0.007309f, 0.444065f, -0.975890f, -0.746110f, -0.602569f, -0.691797f, 0.999226f, -0.043019f, -0.998467f, 0.373748f},
    {0.875493f, -0.430638f, 0.554418f, -0.135551f, -0.152883f, 0.913198f, -0.744985f, 0.667429f, 0.226163f, -0.984771f},
    {0.139031f, -0.732410f, -0.169686f, -0.430602f, -0.963941f, 0.223649f, -0.436138f, -0.900437f, -0.629971f, -0.927326f},
    {-0.588332f, -0.040834f, 0.072288f, -0.890954f, -0.063544f, -0.938494f, 0.648138f, 0.761502f, -0.399166f, -0.954733f},
    {0.088606f, -0.714040f, -0.197482f, -0.461158f, -0.988149f, 0.129358f, -0.256662f, -0.966997f, -0.652931f, -0.923187f},
    {-0.169166f, -0.824710f, -0.070425f, -0.612930f, -0.915222f, -0.339406f, 0.638607f, -0.769952f, -0.542006f, -0.940198f},
    {-0.089235f, 0.228398f, -0.771367f, -0.746059f, -0.602727f, -0.691682f, 0.999212f, -0.043338f, -0.963306f, -0.656480f},
    {-0.142496f, -0.001534f, -0.592068f, -0.716734f, -0.689239f, -0.622429f, 0.974467f, -0.225386f, -0.899865f, -0.810831f},
    {-0.084122f, -0.850795f, -0.092602f, -0.564978f, -0.972786f, -0.194641f, 0.381873f, -0.924622f, -0.562469f, -0.937553f},
    {-1.000000f, -1.000000f, 1.000000f, -0.833054f, -0.297875f, -0.860707f, 0.876466f, 0.481542f, 1.000000f, -1.000000f},
    {-0.316297f, -0.739372f, -0.006723f, -0.692473f, -0.753685f, -0.561133f, 0.929069f, -0.370511f, -0.480632f, -0.947175f},
    {-0.302743f, 0.142750f, -0.431720f, -0.864186f, -0.174378f, -0.906236f, 0.766321f, 0.642466f, -0.817319f, -0.873648f},
    {-0.715057f, 0.885150f, 0.245057f, 0.939643f, 0.699980f, -0.982085f, -0.370382f, 0.928970f, -0.200414f, -0.968058f},
    {-0.328767f, -0.694539f, -0.019462f, -0.703268f, -0.725833f, -0.588831f, 0.951996f, -0.306795f, -0.493214f, -0.945848f},
    {0.465835f, -0.552400f, 0.007076f, -0.247271f, -0.565812f, 0.717758f, -1.000000f, 0.029887f, -0.466831f, -0.948576f},
    {0.016750f, -0.255387f, -0.518654f, -0.510345f, -0.999725f, -0.024545f, 0.049034f, -0.999231f, -0.865097f, -0.844253f},
    {0.834355f, -0.236680f, 0.438251f, -0.115822f, -0.070993f, 0.936664f, -0.656871f, 0.754255f, 0.055344f, -0.979307f},
    {-0.902439f, -0.854526f, 0.804285f, -0.833054f, -0.297875f, -0.860707f, 0.876466f, 0.481542f, 0.636928f, -0.994210f},
    {-0.252785f, -0.515849f, -0.194963f, -0.690671f, -0.758203f, -0.556446f, 0.924825f, -0.380989f, -0.650880f, -0.923573f},
    {0.066033f, 0.430697f, -0.957211f, -0.239110f, -0.539214f, 0.735344f, -0.997150f, 0.080998f, -0.996901f, 0.100863f},
    {0.046589f, 0.110185f, -0.766641f, -0.459993f, -0.987463f, 0.132981f, -0.263721f, -0.965096f, -0.962025f, -0.663011f},
    {-0.745076f, -0.198472f, 0.363588f, -0.889183f, -0.070993f, -0.936562f, 0.656559f, 0.754255f, -0.047692f, -0.975323f},
    {-0.019476f, 0.363349f, -0.919459f, -0.691561f, -0.755977f, -0.558763f, 0.926936f, -0.375821f, -0.992726f, -0.221072f},
    {-0.053611f, 0.354546f, -0.875653f, -0.773365f, -0.514305f, -0.750920f, 0.991939f, 0.127609f, -0.986189f, -0.424752f},
    {-0.475875f, 0.948073f, -0.144449f, 0.897448f, 0.883001f, -0.948634f, -0.600573f, 0.799777f, -0.608491f, -0.930865f},
    {0.723347f, -0.402399f, 0.309591f, -0.156469f, -0.237257f, 0.884504f, -0.825935f, 0.564256f, -0.118916f, -0.972170f},
    {0.180289f, 0.033241f, -0.622517f, -0.288287f, -0.689283f, 0.622492f, -0.974755f, -0.225484f, -0.912787f, -0.793641f},
    {-0.087193f, -0.193911f, -0.524686f, -0.621057f, -0.902409f, -0.363269f, 0.677001f, -0.736407f, -0.868146f, -0.841856f},
    {0.208269f, -0.757101f, -0.119654f, -0.392075f, -0.915222f, 0.339508f, -0.638918f, -0.769952f, -0.586800f, -0.934156f},
    {-0.726997f, 0.259266f, 0.255323f, -0.958516f, 0.229857f, -0.990124f, 0.277543f, 0.960684f, -0.187712f, -0.968739f},
    {-0.585625f, -0.137045f, 0.092411f, -0.873310f, -0.137039f, -0.917961f, 0.728303f, 0.685251f, -0.377473f, -0.956491f},
    {-0.439127f, -0.606394f, 0.060181f, -0.757734f, -0.565812f, -0.717656f, 0.999689f, 0.029887f, -0.412034f, -0.953644f},
    {0.081624f, -0.835405f, -0.116340f, -0.468870f, -0.992208f, 0.105337f, -0.209608f, -0.978269f, -0.583857f, -0.934582f},
    {-0.652829f, -0.100656f, 0.190951f, -0.890954f, -0.063544f, -0.938494f, 0.648138f, 0.761502f, -0.265700f, -0.964282f},
    {0.080582f, -0.901752f, -0.071318f, -0.471001f, -0.993182f, 0.098689f, -0.196519f, -0.980980f, -0.542839f, -0.940094f},
    {-0.692322f, 0.501630f, 0.182637f, -0.998805f, 0.409952f, -0.999898f, 0.028454f, 0.999591f, -0.275485f, -0.963673f},
    {0.098491f, 0.363192f, -0.884621f, -0.231639f, -0.514305f, 0.751023f, -0.992251f, 0.127609f, -0.987675f, -0.391581f},
    {-0.335925f, -0.708289f, -0.004563f, -0.704617f, -0.722258f, -0.592245f, 0.954557f, -0.298728f, -0.478484f, -0.947397f},
    {-0.868539f, 0.714678f, 0.492100f, 0.973632f, 0.548973f, -0.996560f, -0.165387f, 0.986260f, 0.132938f, -0.981942f},
    {-0.730043f, 0.500270f, 0.247777f, -0.998805f, 0.409952f, -0.999898f, 0.028454f, 0.999591f, -0.197059f, -0.968240f},
    {-0.249482f, -0.188117f, -0.373953f, -0.747229f, -0.599088f, -0.694328f, 0.999502f, -0.036003f, -0.781609f, -0.889031f},
    {-0.088808f, 0.417036f, -0.845426f, -0.885628f, -0.085899f, -0.932596f, 0.673219f, 0.739426f, -0.980617f, -0.515654f},
    {0.367548f, -0.649444f, -0.054584f, -0.300387f, -0.722258f, 0.592348f, -0.954868f, -0.298728f, -0.527103f, -0.942016f},
    {0.127735f, -0.785163f, -0.138430f, -0.440027f, -0.972786f, 0.194743f, -0.382184f, -0.924622f, -0.603280f, -0.931680f},
    {-0.394983f, -0.498406f, -0.046028f, -0.757734f, -0.565812f, -0.717656f, 0.999689f, 0.029887f, -0.518955f, -0.942974f},
    {-0.510373f, 0.060237f, -0.077769f, -0.896987f, -0.038055f, -0.944859f, 0.618855f, 0.785480f, -0.548834f, -0.939335f},
    {-0.087724f, -0.123564f, -0.568895f, -0.633102f, -0.881830f, -0.398197f, 0.730640f, -0.683200f, -0.889442f, -0.822471f},
    {0.217036f, -0.814554f, -0.077501f, -0.391787f, -0.914783f, 0.340357f, -0.640307f, -0.768798f, -0.548586f, -0.939367f},
    {-0.840780f, -0.411093f, 0.571289f, -0.873792f, -0.135056f, -0.918559f, 0.726230f, 0.687446f, 0.252035f, -0.985500f},
    {-0.019335f, 0.425858f, -0.952322f, -0.765894f, -0.539214f, -0.735242f, 0.996839f, 0.080998f, -0.996437f, 0.045822f},
    {-0.951220f, -0.927263f, 0.902143f, -0.833054f, -0.297875f, -0.860707f, 0.876466f, 0.481542f, 0.813926f, -0.997250f},
    {-0.007165f, 0.439074f, -0.973553f, -0.736147f, -0.632983f, -0.668901f, 0.994602f, -0.105342f, -0.998290f, 0.332761f},
    {-0.407449f, 1.000000f, -0.242160f, 0.869514f, 1.000000f, -0.917314f, -0.730841f, 0.682877f, -0.688300f, -0.915942f},
    {-0.086060f, -0.730022f, -0.172873f, -0.571985f, -0.966326f, -0.216151f, 0.422127f, -0.906943f, -0.632641f, -0.926865f},
    {-0.502205f, 0.970210f, -0.096525f, 0.897448f, 0.883001f, -0.948634f, -0.600573f, 0.799777f, -0.566040f, -0.937072f},
    {-0.313689f, -0.796711f, 0.023564f, -0.684855f, -0.772524f, -0.541199f, 0.910321f, -0.414468f, -0.450104f, -0.950203f},
    {0.335945f, 0.161070f, -0.461400f, -0.140818f, -0.174378f, 0.906338f, -0.766632f, 0.642466f, -0.834436f, -0.864581f},
    {-0.313960f, -0.719067f, -0.020488f, -0.693849f, -0.750210f, -0.564700f, 0.932231f, -0.362478f, -0.494220f, -0.945740f},
    {-0.974888f, 0.118497f, 0.692996f, -0.952048f, 0.201168f, -0.987076f, 0.316291f, 0.948630f, 0.446667f, -0.990339f},
    {0.976084f, 0.137972f, 0.609758f, -0.052956f, 0.201168f, 0.987179f, -0.316602f, 0.948630f, 0.312037f, -0.987106f},
    {-0.914950f, 0.150426f, 0.587343f, -0.953019f, 0.205469f, -0.987560f, 0.310506f, 0.950540f, 0.276905f, -0.986179f},
    {-0.567659f, -0.247851f, 0.096958f, -0.850602f, -0.229046f, -0.887407f, 0.818240f, 0.574908f, -0.372518f, -0.956880f},
    {0.111986f, 0.394920f, -0.878601f, -0.174017f, -0.305840f, 0.857491f, -0.882948f, 0.470140f, -0.986686f, -0.414220f},
    {-0.216929f, -0.203902f, -0.403434f, -0.723739f, -0.669406f, -0.639474f, 0.983417f, -0.182359f, -0.800229f, -0.881522f},
    {-0.238775f, -0.433770f, -0.255055f, -0.695129f, -0.746958f, -0.568008f, 0.935109f, -0.354982f, -0.698156f, -0.913700f},
    {-0.784158f, -0.382733f, 0.473947f, -0.869453f, -0.152883f, -0.913095f, 0.744674f, 0.667429f, 0.106472f, -0.981075f},
    {-0.090048f, -0.241142f, -0.492711f, -0.616997f, -0.908918f, -0.351377f, 0.658035f, -0.753409f, -0.851588f, -0.853977f},
    {-0.028992f, -0.830291f, -0.120503f, -0.534004f, -0.993182f, -0.098587f, 0.196208f, -0.980980f, -0.587552f, -0.934046f},
    {-0.386885f, 0.977499f, -0.280867f, 0.869514f, 1.000000f, -0.917314f, -0.730841f, 0.682877f, -0.717412f, -0.908989f},
    {0.037661f, -0.895353f, -0.080228f, -0.495006f, -0.999763f, 0.023559f, -0.047171f, -0.999336f, -0.551109f, -0.939044f},
    {-0.317621f, -0.620608f, -0.071618f, -0.707893f, -0.713494f, -0.600492f, 0.960488f, -0.279052f, -0.543118f, -0.940059f},
    {-0.961917f, 0.131573f, 0.669461f, -0.953019f, 0.205469f, -0.987560f, 0.310506f, 0.950540f, 0.407935f, -0.989457f},
    {-0.892057f, 0.197839f, 0.543409f, -0.958177f, 0.228350f, -0.989974f, 0.279588f, 0.960090f, 0.209427f, -0.984287f},
    {0.435665f, 0.977499f, -0.280867f, 0.128935f, 1.000000f, 0.917417f, 0.730530f, 0.682877f, -0.717412f, -0.908989f},
    {-0.004290f, 0.452009f, -0.983425f, -0.746110f, -0.602569f, -0.691797f, 0.999226f, -0.043019f, -0.999006f, 0.524142f},
    {0.040189f, -0.932438f, -0.054726f, -0.493805f, -0.999626f, 0.027324f, -0.054695f, -0.998954f, -0.527238f, -0.942000f},
    {0.773139f, 0.238011f, 0.252940f, -0.050158f, 0.213569f, 0.988547f, -0.299899f, 0.954038f, -0.190670f, -0.968582f},
    {-0.069272f, 0.459901f, -0.886792f, -0.914491f, 0.036816f, -0.961404f, 0.529031f, 0.848571f, -0.988024f, -0.383021f},
    {-0.304759f, 0.258358f, -0.457535f, -0.903366f, -0.010920f, -0.951222f, 0.586926f, 0.809613f, -0.832254f, -0.865813f},
    {-0.031802f, -0.901752f, -0.071318f, -0.534004f, -0.993182f, -0.098587f, 0.196208f, -0.980980f, -0.542839f, -0.940094f},
    {0.208396f, 0.340234f, -0.712384f, -0.123966f, -0.105047f, 0.927407f, -0.694541f, 0.719741f, -0.945800f, -0.725086f},
    {-0.626125f, -0.054593f, 0.136862f, -0.894615f, -0.048094f, -0.942398f, 0.630472f, 0.776189f, -0.328192f, -0.960165f},
    {0.142167f, -0.821158f, -0.109193f, -0.433404f, -0.966699f, 0.215074f, -0.420247f, -0.907961f, -0.577474f, -0.935492f},
    {-0.417055f, -0.552400f, 0.007076f, -0.757734f, -0.565812f, -0.717656f, 0.999689f, 0.029887f, -0.466831f, -0.948576f},
    {-0.937249f, 0.178274f, 0.622554f, -0.957750f, 0.226456f, -0.989784f, 0.282157f, 0.959339f, 0.332306f, -0.987624f},
    {0.301406f, -0.484362f, -0.212952f, -0.309876f, -0.746958f, 0.568111f, -0.935421f, -0.354982f, -0.665391f, -0.920766f},
    {-0.798638f, -0.272290f, 0.467999f, -0.886056f, -0.084108f, -0.933079f, 0.671232f, 0.741230f, 0.097869f, -0.980786f},
    {0.122982f, 0.456345f, -0.877938f, -0.090514f, 0.036816f, 0.961507f, -0.529342f, 0.848571f, -0.986575f, -0.416620f},
    {-0.336965f, 0.749347f, -0.412830f, 0.923912f, 0.768940f, -0.971597f, -0.460126f, 0.887980f, -0.805990f, -0.878983f},
    {-0.079131f, 0.452789f, -0.869085f, -0.914491f, 0.036816f, -0.961404f, 0.529031f, 0.848571f, -0.985052f, -0.447019f},
    {-0.658002f, -0.444131f, 0.298187f, -0.839433f, -0.273101f, -0.870718f, 0.856494f, 0.516215f, -0.133605f, -0.971472f},
    {-0.797084f, -0.213249f, 0.451399f, -0.893839f, -0.051376f, -0.941580f, 0.634248f, 0.773107f, 0.074036f, -0.979968f},
    {-0.013154f, -0.878906f, -0.089584f, -0.523929f, -0.996929f, -0.067100f, 0.133876f, -0.991422f, -0.559711f, -0.937920f},
    {-0.301610f, -0.590598f, -0.104605f, -0.704617f, -0.722258f, -0.592245f, 0.954557f, -0.298728f, -0.573350f, -0.936069f},
    {-0.691512f, 0.016371f, 0.229725f, -0.915371f, 0.040615f, -0.962160f, 0.524335f, 0.851480f, -0.219196f, -0.967021f},
    {-0.016169f, 0.371528f, -0.927284f, -0.687555f, -0.765924f, -0.548301f, 0.917207f, -0.398990f, -0.993703f, -0.169975f},
    {0.312677f, -0.225780f, -0.338108f, -0.257775f, -0.599088f, 0.694430f, -0.999813f, -0.036003f, -0.757861f, -0.897330f},
    {-0.761795f, 0.223538f, 0.318337f, -0.954847f, 0.213569f, -0.988445f, 0.299587f, 0.954038f, -0.107567f, -0.972698f},
    {0.036509f, 0.039321f, -0.720010f, -0.482573f, -0.997364f, 0.062516f, -0.124872f, -0.992637f, -0.948249f, -0.717576f},
    {0.048144f, 0.040413f, -0.718901f, -0.463496f, -0.989467f, 0.122084f, -0.242458f, -0.970654f, -0.947896f, -0.718690f},
    {-0.409407f, -0.507061f, -0.023943f, -0.761782f, -0.552698f, -0.726439f, 0.998602f, 0.055260f, -0.497603f, -0.945374f},
    {0.778824f, 0.500270f, 0.247777f, -0.006199f, 0.409952f, 1.000000f, -0.028766f, 0.999591f, -0.197059f, -0.968240f},
    {0.133379f, -0.204542f, -0.519486f, -0.388007f, -0.908918f, 0.351479f, -0.658347f, -0.753409f, -0.865520f, -0.843926f},
    {0.604458f, -0.338298f, 0.108944f, -0.172084f, -0.298393f, 0.860595f, -0.877182f, 0.480805f, -0.359362f, -0.957890f},
    {-0.015171f, 0.435536f, -0.962101f, -0.765894f, -0.539214f, -0.735242f, 0.996839f, 0.080998f, -0.997343f, 0.161698f},
    {0.216850f, 0.253877f, -0.673501f, -0.165357f, -0.272261f, 0.871151f, -0.856108f, 0.517369f, -0.932455f, -0.758712f},
    {0.740293f, 0.016371f, 0.229725f, -0.089633f, 0.040615f, 0.962263f, -0.524646f, 0.851480f, -0.219196f, -0.967021f},
    {0.550985f, 0.970210f, -0.096525f, 0.101002f, 0.883001f, 0.948736f, 0.600262f, 0.799777f, -0.566040f, -0.937072f},
    {-0.709514f, -0.448893f, 0.377821f, -0.848536f, -0.237257f, -0.884401f, 0.825624f, 0.564256f, -0.028457f, -0.976115f},
    {0.404764f, 0.761025f, -0.379031f, 0.074538f, 0.768940f, 0.971699f, 0.459815f, 0.887980f, -0.784875f, -0.887784f},
    {0.116073f, 0.330115f, -0.846842f, -0.226991f, -0.498544f, 0.760570f, -0.988102f, 0.156475f, -0.980898f, -0.511984f},
    {0.669361f, -0.070745f, 0.131619f, -0.114051f, -0.063544f, 0.938596f, -0.648450f, 0.761502f, -0.334102f, -0.959746f},
    {-0.433768f, -0.564922f, 0.033849f, -0.761816f, -0.552586f, -0.726514f, 0.998590f, 0.055476f, -0.439539f, -0.951193f},
    {-0.527529f, -0.073757f, -0.016867f, -0.873310f, -0.137039f, -0.917961f, 0.728303f, 0.685251f, -0.490663f, -0.946121f},
    {-0.911881f, 0.173700f, 0.579672f, -0.955927f, 0.218364f, -0.988953f, 0.293111f, 0.956048f, 0.264991f, -0.985856f},
    {-0.566664f, 0.011054f, 0.025098f, -0.896987f, -0.038055f, -0.944859f, 0.618855f, 0.785480f, -0.448535f, -0.950352f},
    {0.370863f, 0.244194f, -0.426089f, -0.101638f, -0.010920f, 0.951324f, -0.587237f, 0.809613f, -0.813977f, -0.875272f},
    {-0.337349f, -0.790677f, 0.042810f, -0.695484f, -0.746050f, -0.568926f, 0.935899f, -0.352894f, -0.430253f, -0.952040f}
};

// 对偶系数
const float dual_coefs[184] = {
    -0.210359f, 1.000000f, 1.000000f, 1.000000f, 0.207103f, -0.340293f, -0.168731f, -0.605578f, -1.000000f, 1.000000f, 0.933888f, 0.135682f, -0.074321f, -0.253943f, -0.007654f, -0.148817f, 0.107665f, 0.331029f, -0.303132f, -1.000000f, 0.272911f, -0.235392f, 1.000000f, 0.436902f, 0.399635f, -0.333606f, 0.042289f, 0.168820f, -0.237569f, -0.110324f, -0.321900f, 0.163230f, -1.000000f, 1.000000f, -0.109526f, -0.973652f, -0.986832f, -1.000000f, -0.365548f, 1.000000f, 0.171177f, -1.000000f, -0.397788f, 0.168576f, -1.000000f, 1.000000f, 0.250746f, -0.398005f, -0.118667f, -0.312727f, 1.000000f, 0.289662f, -1.000000f, -0.216544f, -0.194952f, -0.100861f, -1.000000f, 0.165248f, 1.000000f, -1.000000f, 0.158327f, -0.065974f, -0.375136f, -0.252167f, 1.000000f, 0.043692f, 0.331752f, 0.279484f, -0.512656f, 1.000000f, 0.128957f, -0.159833f, -0.162533f, -0.895107f, 1.000000f, 0.361149f, -1.000000f, -0.151373f, 0.134986f, 1.000000f, -0.042481f, 0.019315f, 0.047012f, 0.359975f, 0.137012f, -0.293361f, -0.109045f, 0.145492f, 0.565570f, -0.251580f, 0.961187f, 0.015470f, 0.294181f, -0.621759f, -0.075833f, 0.178432f, -0.080126f, -0.021418f, -0.546141f, -0.236682f, 1.000000f, 0.040046f, -0.171935f, 0.218771f, 0.005269f, 0.040310f, -0.167696f, -0.063758f, 1.000000f, 1.000000f, -0.628909f, -0.033155f, 0.494545f, -0.397370f, 0.377152f, -0.131320f, -0.016997f, -0.238806f, -0.207747f, -0.384048f, -0.481822f, 1.000000f, -0.053334f, -1.000000f, 0.407751f, 1.000000f, -1.000000f, -0.013515f, -0.280613f, 0.197581f, 1.000000f, 0.746159f, 0.629340f, -0.192862f, 0.667681f, -0.249043f, 0.965753f, -1.000000f, 0.523360f, -0.254127f, -0.355228f, -1.000000f, 0.044536f, -0.205244f, 0.128574f, -0.196747f, -0.118691f, -0.051516f, -0.753644f, -1.000000f, 0.527027f, -0.267361f, -1.000000f, -0.311227f, 0.041666f, -0.076618f, 0.246106f, 0.715382f, 1.000000f, 1.000000f, -0.028313f, -1.000000f, -0.197477f, -0.229731f, -0.034863f, -0.075958f, 1.000000f, 0.084677f, 0.431864f, 0.165868f, -0.225580f, -0.123206f, 0.117312f, 0.188825f, -0.352372f, -0.028220f, -0.137426f, 0.012283f, 0.408486f, 0.289123f, -1.000000f, -1.000000f, -0.005596f, -1.000000f
};

// -------------------- 3. 辅助函数 --------------------
// RBF核函数
float rbf_kernel(const float* x1, const float* x2, int dim) {
    float sum = 0.0f;
    for (int i = 0; i < dim; i++) {
        float diff = x1[i] - x2[i];
        sum += diff * diff;
    }
    return expf(-gamma * sum);
}

// 特征归一化
void normalize_features(const float* input, float* output, int dim) {
    for (int i = 0; i < dim; i++) {
        output[i] = 2.0f * (input[i] - feat_min[i]) / (feat_max[i] - feat_min[i]) - 1.0f;
    }
}

// 添加极坐标特征
void add_polar_features(const float* point, float* features) {
    // 原始特征 (x, y)
    features[0] = point[0];
    features[1] = point[1];
    
    // 计算极坐标
    float r = sqrtf(point[0]*point[0] + point[1]*point[1]);
    float theta = atan2f(point[1], point[0]);
    
    // 扩展特征
    features[2] = r;
    features[3] = theta;
    features[4] = sinf(theta);
    features[5] = cosf(theta);
    features[6] = sinf(2*theta);
    features[7] = cosf(2*theta);
    features[8] = r*r;
    features[9] = 1.0f / (r + 1e-6f);  // 避免除零
}

// -------------------- 4. 预测函数 --------------------
float predict_rpm(float world_x, float world_y) {
    // 1. 转换到篮筐坐标系
    float point[2] = {
        world_x - hoop_x,
        world_y - hoop_y
    };
    
    // 2. 计算特征 (包括极坐标)
    float raw_features[10];  // 确保与特征工程维度匹配
    add_polar_features(point, raw_features);
    
    // 3. 归一化特征
    float features[10];
    normalize_features(raw_features, features, 10);
    
    // 4. 计算SVR预测
    float sum = intercept;
    for (int i = 0; i < 184; i++) {
        float k = rbf_kernel(features, support_vectors[i], 10);
        sum += dual_coefs[i] * k;
    }
    
    // 5. 反归一化得到实际转速
    float rpm_norm = sum;
    float result = rpm_norm * (rpm_max - rpm_min) + rpm_min;
    
    // 6. 输出保护
    if (result < rpm_min) return rpm_min;
    if (result > rpm_max) return rpm_max;
    return result;
}

// ==================== 使用示例 ====================
/*
#include <stdio.h>
#include <math.h>  // 对于cosf, sinf等函数

#define M_PI 3.14159265358979323846f

int main() {
    // 测试点: 篮筐正前方2米处
    float x = hoop_x - 2.0f, y = hoop_y;
    float rpm = predict_rpm(x, y);
    printf("(%.1f, %.1f) -> %.1f RPM\n", x, y, rpm);
    
    // 测试点: 篮筐右侧45度1.5米处
    x = hoop_x - 1.5f * cosf(M_PI/4);
    y = hoop_y + 1.5f * sinf(M_PI/4);
    rpm = predict_rpm(x, y);
    printf("(%.1f, %.1f) -> %.1f RPM\n", x, y, rpm);
    
    return 0;
}
*/